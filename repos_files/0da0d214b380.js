if(!Modernizr.svg){$('img[src*="svg"]').attr('src',function(){return $(this).attr('src').replace('.svg','.png');});}
$(function(){$(window).scroll(function(){if($(window).scrollTop()>70){$("#stickynav").addClass("navbar-fixed-top").removeClass("navbar-static-top");$("body").css('margin-top','30px');}else{$("#stickynav").removeClass("navbar-fixed-top").addClass("navbar-static-top");$("body").css('margin-top','0px');}});var shiftWindow=function(){scrollBy(0,-30);};window.addEventListener("hashchange",shiftWindow);$(window).load(function(){if(window.location.hash){shiftWindow();}});$(function(){$('.automated_icon').mouseover(function(){$(this).tooltip('show');}).mouseleave(function(){$(this).tooltip('hide');});});$(".search-query").autocomplete({source:function(request,response){host_path="/autocomplete";var query={q:request.term,pretty:'true',size:50};$.ajax({url:host_path,dataType:"json",data:query,success:function(data){var dict=[];response($.map(data,function(item){var val=item.namespace+'/'+item.name;if(!dict.hasOwnProperty(val))
{dict[val]=val;return{label:val,value:val}}
return dict;}));}});},minLength:2,select:function(event,ui){window.location="/u/"+ui.item.value;}})
var items=$(".timesince");for(var i=0;i<items.length;i++){var item=$(items[i]);var date=moment(item.attr('data-time'));var timesince=date.fromNow();item.text(timesince);}
var $table_rows=$('#repositories_table tr');var $list_rows=$('.repo-list-item');$('#filter-repo').keyup(function(){var val=$.trim($(this).val()).replace(/ +/g,' ').toLowerCase();$table_rows.show().filter(function(){var text=$(this).text().replace(/\s+/g,' ').toLowerCase();return!~text.indexOf(val);}).hide();$list_rows.show().filter(function(){var text=$(this).text().replace(/\s+/g,' ').toLowerCase();return!~text.indexOf(val);}).hide();});items=$(".fixtime-profile");for(var i=0;i<items.length;i++){var item=$(items[i]);if(item.attr('utc-date-short')){local_date=moment.utc(item.attr('utc-date-short')).local().format("MM/DD/YYYY");if(item.attr('utc-date-short')==="None"){local_date="n/a";}}
else if(item.attr('utc-date-long')){local_date=moment.utc(item.attr('utc-date-long')).local().format("MMM. DD, YYYY");if(item.attr('utc-date-long')==="None"){local_date="unknown";}}
item.text(local_date);}
items=$(".fixtime");for(var i=0;i<items.length;i++){var item=$(items[i]);var local_date=moment.utc(item.attr('utc-date')).local().format("MMM. DD, YYYY");if(item.attr('utc-date')==="None"){local_date="unknown"}
item.text(local_date);}
items=$(".fixtime-repo");for(var i=0;i<items.length;i++){var item=$(items[i]);var local_date=moment.utc(item.attr('utc-date')).local().format("YYYY-MM-DD HH:mm:ss");if(item.attr('utc-date')==="None"){local_date="unknown"}
item.text(local_date);}
items=$(".fixtime-highland");for(var i=0;i<items.length;i++){var item=$(items[i]);var date=moment(item.attr('data-time'));var timesince=date.fromNow();item.text(timesince);}
$('#search_box_header').focus(function(e){$('.nav:nth(0)').hide();});$('#search_box_header').blur(function(e){window.setTimeout(function(){$('.nav:nth(0)').show();},200);});});